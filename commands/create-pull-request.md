---
description: Create a new pull request or update an existing pull request with a comprehensive description using repository templates or best practices. You must have the `gh` cli tool installed and correctly configured before executing this command.
allowed-tools: Bash(git branch:*), Bash(gh pr:*), Bash(cat:*), Bash(gh repo view:*)
argument-hint: [message]
---

# Arguments

Review any provided details as arguments for this slash command first: $ARGUMENTS

# Context

- Get current branch name: !`git branch --show-current`
- Check for existing PR, and if it exists gather metadata: !`gh pr view --json number,title,state,headRefName,baseRefName,url 2>/dev/null`
- List available PRs if no PR on current branch: !`gh pr list --limit 10 --json number,title,headRefName,author`
- Check for PR template: !`cat .github/pull_request_template.md 2>/dev/null`
- Verify repository configuration: !`gh repo view --json name,owner,defaultBranchRef 2>/dev/null`

# Workflow

## 1. Identify Target PR

Ask user which PR to describe if multiple options exist, or confirm creating a new PR if none exists on current branch.

## 2. If the PR exists, gather PR context

```bash
# Get changes
gh pr diff {number}

# Get commit history
gh pr view {number} --json commits
```

**If repository not set:** User must run `gh repo set-default`

## 3. Analyze Changes

- Identify change categories:
  - Features added
  - Bugs fixed
  - Breaking changes
  - Performance improvements
  - Refactoring
- Note user-facing vs internal changes
- Check for migration requirements

## 4. If the template exists, load template

Use template if found in initial check, otherwise use standard format.

## 5. Generate Description

**With Template:** Fill each section based on analysis
**Without Template:** Use format below:

```markdown
# Summary

[One-line description of the change]

## Problem

[What issue or limitation does this address?]

## Solution

[How does this PR solve the problem?]

# Changes

## User-Facing Changes

- [Changes visible to end users]

## Technical Changes

- [Internal implementation changes]

## Type of Change

- [ ] üêõ Bug fix (non-breaking change fixing an issue)
- [ ] ‚ú® New feature (non-breaking change adding functionality)
- [ ] üí• Breaking change (fix or feature causing existing functionality to break)
- [ ] üìö Documentation update
- [ ] üé® Code refactoring
- [ ] ‚ö° Performance improvement
- [ ] üîí Security fix

## Testing

- [ ] Tests pass locally
- [ ] Added tests for new functionality
- [ ] Existing tests updated

## Manual Checks

[If needed, list any manual checks required for the PR. Otherwise, leave Manual Checks section out of description]

## Breaking Changes

[List any breaking changes. If none, leave Breaking Changes section out of description]

## Screenshots

[If UI changes, add before/after. If none, leave Screenshots section out of description]

## Additional Notes

[Context, decisions, or follow-up needed]
```

## 6. Run Automated Checks (if configured)

```bash
# Common verification commands
npm test
cargo test
go test ./...
pytest
make test
just test
```

Mark completed checks: `- [x]`

## 7. Create or Update PR

```bash
# Save description
echo "[description]" > pr_description.md

# Update existing PR
gh pr edit {number} --body-file pr_description.md

# OR create new PR
gh pr create --body-file pr_description.md --title "[title]" --base [base-branch]

# Confirm update
gh pr view {number}

# Remove temporary description file
rm pr_description.md
```

## Key Principles

**DO:**

- ‚úÖ Focus on WHY changes were made
- ‚úÖ Highlight user impact first
- ‚úÖ Group related changes
- ‚úÖ Run automated tests when possible
- ‚úÖ Note migration steps clearly

**DON'T:**

- ‚ùå List every file changed
- ‚ùå Duplicate commit messages
- ‚ùå Skip breaking change warnings
- ‚ùå Leave template sections empty
- ‚ùå Include "Generated by Claude" or similar attribution

## Repository Variations

| Template Location                  | Fallback Order      |
| ---------------------------------- | ------------------- |
| `.github/pull_request_template.md` | Primary             |
| `.github/PULL_REQUEST_TEMPLATE.md` | Alternative         |
| `docs/pull_request_template.md`    | Legacy              |
| None found                         | Use standard format |

## Common Sections to Address

- **Problem/Solution** - What issue does this resolve?
- **Implementation** - How was it solved?
- **Testing** - How was it verified?
- **Impact** - Who/what is affected?
- **Follow-up** - What comes next?

Remember: Good PR descriptions accelerate reviews. Be thorough but scannable and concise.
